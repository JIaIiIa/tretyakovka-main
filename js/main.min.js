(()=>{var e=document.querySelector(".burger__btn"),t=document.querySelector(".header__bottom"),n=document.querySelector("body");e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("lock")})),document.querySelector(".wrapper")&&(gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".preload").forEach((function(e){gsap.from(e,{y:50,opacity:0,ease:"power1.out",scrollTrigger:{trigger:e,start:"top 90%",end:"top 30%",toggleActions:"play none none reverse",duration:1,oncomplete:function(){ScrollTrigger.refresh()}}})}))),new Swiper(".hero__swiper",{slidesPerView:1,spaceBetween:20,speed:1e3,pagination:{el:".swiper-pagination-bottom",clickable:!0,type:"fraction"},navigation:{nextEl:".swiper-button__next",prevEl:".swiper-button__prev"},simulateTouch:!1,touchRatio:0}),new Swiper(".hero__swiper",{slidesPerView:1,spaceBetween:20,speed:1e3,pagination:{el:".swiper-pagination-top",clickable:!0,type:"fraction"},navigation:{nextEl:".swiper-button__next",prevEl:".swiper-button__prev"},simulateTouch:!1,touchRatio:0}),new Swiper(".gallery__items",{slidesPerView:2.4,centeredSlides:!0,spaceBetween:38.6,initialSlide:1,speed:1e3,slideActiveClass:"swiper-slide-active",pagination:{el:".swiper-pagination",clickable:!0,type:"fraction"},navigation:{nextEl:".swiper__next",prevEl:".swiper__prev"}}),document.querySelectorAll(".show-btn").forEach((function(e){var t=e.previousElementSibling;if(t&&t.classList.contains("main-content")){console.log("Main content found:",t);var n=t.querySelectorAll(".main-item");console.log("All items:",n);var i=3;c(),o(),n.length<=3&&(e.style.display="none"),e.addEventListener("click",(function(c){c.preventDefault();var o=0;n.forEach((function(e){o<i&&e.classList.contains("hidden")&&(e.classList.remove("hidden"),o++)})),0===t.querySelectorAll(".main-item.hidden").length&&(e.style.display="none")})),window.addEventListener("resize",(function(){c(),o()}))}else console.error("Main content not found");function c(){i=window.innerWidth<=768?2:3}function o(){n.forEach((function(e,t){t<i?e.classList.remove("hidden"):e.classList.add("hidden")}))}}));var i,c=document.getElementById("languageToggle"),o=document.querySelector(".language-dropdown"),a=o.querySelectorAll("a");c.addEventListener("click",(function(e){e.preventDefault(),o.classList.toggle("visible"),o.classList.toggle("hidden"),c.classList.add("active")})),a.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("data-lang");c.childNodes[0].textContent=n,o.classList.add("hidden"),o.classList.remove("visible"),c.classList.remove("active"),console.log("Selected language: ".concat(n))}))})),document.addEventListener("click",(function(e){o.contains(e.target)||e.target===c||(o.classList.add("hidden"),o.classList.remove("visible"),c.classList.remove("active"))})),document.querySelector(".main-filter")&&(document.querySelector(".filtres-section")&&(i=flatpickr("#start-date",{locale:"ru",dateFormat:"d-m-Y",minDate:"today",theme:"airbnb",onChange:function(e,t,n){document.getElementById("start-date").innerText=t}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".filtres-main__btn"),t=document.querySelectorAll(".filtres-dropdown"),n=document.querySelector(".filtres-section__btn");e.forEach((function(e,n){e.addEventListener("click",(function(i){"start-date"!==e.id?(i.preventDefault(),t[n].classList.toggle("visible"),t[n].classList.toggle("hidden")):i.preventDefault()}))})),t.forEach((function(t,n){t.querySelectorAll("a").forEach((function(i){i.addEventListener("click",(function(c){if("start-date"!==e[n].id){c.preventDefault();var o=i.getAttribute("data-filter");e[n].textContent=i.textContent,t.classList.add("hidden"),t.classList.remove("visible"),console.log("Выбран фильтр: ".concat(o))}}))}))})),document.addEventListener("click",(function(n){t.forEach((function(t,i){t.contains(n.target)||n.target===e[i]||(t.classList.add("hidden"),t.classList.remove("visible"))}))})),document.querySelector(".filtres-section__btn")&&n.addEventListener("click",(function(n){n.preventDefault(),e.forEach((function(e){var t=e.getAttribute("data-filter-default")||"#Все";e.textContent=t})),t.forEach((function(e){e.classList.add("hidden"),e.classList.remove("visible")})),i.clear(),document.getElementById("start-date").innerText="#Все"}))}))),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("searchIcon"),t=document.querySelector(".search-container"),n=document.getElementById("searchInput");e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("visible"),t.classList.contains("visible")&&n.focus()})),document.addEventListener("click",(function(n){t.contains(n.target)||n.target===e||t.classList.remove("visible")}))}));var r=document.querySelectorAll(".path__questions-item"),s=document.querySelectorAll(".path__answers-item");r.forEach((function(e,t){e.addEventListener("click",(function(n){n.preventDefault(),r.forEach((function(e){return e.classList.remove("active")})),s.forEach((function(e){return e.classList.remove("active")})),e.classList.add("active"),s[t].classList.add("active")}))}));var l=document.querySelectorAll(".accordeon__links-link"),d=document.querySelectorAll(".accordeon__list-wrapper");l.forEach((function(e,t){e.addEventListener("click",(function(n){n.preventDefault(),l.forEach((function(e){return e.classList.remove("active")})),d.forEach((function(e){return e.classList.remove("active")})),e.classList.add("active"),d[t].classList.add("active")}))})),document.querySelector(".accordeon")&&(accordeonButtons=document.querySelectorAll(".accordeon__title-wrapper"),accordeonButtons.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".accordeon__item").querySelector(".accordeon__item-content"),n=t.classList.contains("active");if(document.querySelectorAll(".accordeon__item-content").forEach((function(e){e!==t&&e.classList.contains("active")&&(e.style.maxHeight="0px",e.classList.remove("active"),e.closest(".accordeon__item").querySelector(".accordeon__title-wrapper").classList.remove("active"))})),n)t.style.maxHeight="1px",t.classList.remove("active");else{var i=t.scrollHeight+30;t.style.maxHeight=i+"px",t.classList.add("active")}e.classList.toggle("active",!n)}))})))})();